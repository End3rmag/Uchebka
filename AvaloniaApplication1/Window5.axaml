<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:AvaloniaApplication1.Models"
        mc:Ignorable="d"
        x:Class="AvaloniaApplication1.Views.Window5"
        Width="400" Height="550"
        Title="Подключение тарифа" WindowStartupLocation="CenterOwner"
		x:DataType="local:TarifViewModel"
        x:Name="ThisWindow">
	<!-- Добавил x:Name="ThisWindow" для доступа к окну из кода -->

	<Design.DataContext>
		<!-- DataContext для дизайнера -->
		<local:TarifViewModel
            Name="Тестовый тариф"
            PricePerMonth="500"
            Description="Тестовое описание тарифа"
            InternetIncluded="10"
            MinutesIncluded="100"
            SmsIncluded="50"/>
	</Design.DataContext>

	<StackPanel Margin="20" Spacing="15">
		<TextBlock Text="{Binding Name}" FontSize="24" FontWeight="Bold"
                  HorizontalAlignment="Center"/>

		<TextBlock Text="{Binding FormattedPrice}" FontSize="20" Foreground="Blue"
                  HorizontalAlignment="Center"/>

		<Border Background="#f0f0f0" CornerRadius="5" Padding="10">
			<StackPanel Spacing="8">
				<TextBlock Text="Включено в тариф:" FontWeight="Bold"/>
				<TextBlock Text="{Binding FormattedInternet, StringFormat='Интернет: {0}'}"/>
				<TextBlock Text="{Binding FormattedMinutes, StringFormat='Минуты: {0}'}"/>
				<TextBlock Text="{Binding FormattedSms, StringFormat='SMS: {0}'}"/>
			</StackPanel>
		</Border>

		<TextBlock Text="{Binding Description}" TextWrapping="Wrap"/>

		<TextBlock x:Name="BalanceInfo" Text="" Foreground="Green" HorizontalAlignment="Center"/>
		<TextBlock x:Name="ErrorText" Text="" Foreground="Red" HorizontalAlignment="Center"/>

		<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20">
			<Button Content="Закрыть" Width="100" Click="CloseButton_Click"/>
			<Button Content="Подключить" Width="100" Click="ConnectButton_Click"
                   Background="Green" Foreground="White"/>
		</StackPanel>
	</StackPanel>
</Window>
